{"ast":null,"code":"var _jsxFileName = \"E:\\\\freshCart\\\\src\\\\components\\\\Product\\\\Product.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport { cartContext } from \"../Context/CartContext\";\nimport { toast } from \"react-toastify\";\nimport { Link } from \"react-router-dom\";\nimport { wishContext } from \"../Context/WishContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Product({\n  item\n}) {\n  _s();\n  let {\n    counter,\n    setCounter,\n    addToCart\n  } = useContext(cartContext);\n  let {\n    addToWishlist,\n    setWishCounter\n  } = useContext(wishContext);\n  let [btnLoading, setBtnLoading] = useState(false);\n  const [isInWishlist, setIsInWishlist] = useState(false);\n  async function addPrdToCart(productId) {\n    setBtnLoading(true);\n    let data = await addToCart(productId);\n    console.log(data);\n    if (data.status == \"success\") {\n      toast.success(data.message);\n      setCounter(data.numOfCartItems);\n      setBtnLoading(false);\n    }\n  }\n  async function addWishToCart(productId) {\n    let data = await addToWishlist(productId);\n    console.log(data);\n    if (data.status == \"success\") {\n      toast.success(data.message);\n      // setWishCounter(data.count);\n      // console.log(data.data.count);\n      setIsInWishlist(!isInWishlist);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product p-2 rounded-3 cursor-pointer\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/product-details/\" + item._id,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.imageCover,\n            height: 430,\n            className: \"w-100 p-2\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-main fw-semibold\",\n            children: item.category.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"fs-6 fw-bolder my-2\",\n            children: item.title.split(\" \").slice(0, 2).join(\" \")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-muted\",\n              children: [\" \", item.price + \"LE\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa-solid fa-star rating-color\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 17\n              }, this), item.ratingsAverage]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-around my-3 \",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: btnLoading,\n            onClick: () => addPrdToCart(item._id),\n            className: \"btn text-white bg-main w-75 \",\n            children: !btnLoading ? \"+ Add\" : \"loading\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            onClick: () => addWishToCart(item._id),\n            className: `fa-heart ${isInWishlist ? \"fa-solid\" : \"fa-regular\"} fs-2`,\n            style: {\n              color: isInWishlist ? \"red\" : \"black\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(Product, \"jm4+WAK1i7jjuXaIN3Lxm6UA0Mo=\");\n_c = Product;\nvar _c;\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"names":["React","useContext","useState","cartContext","toast","Link","wishContext","jsxDEV","_jsxDEV","Fragment","_Fragment","Product","item","_s","counter","setCounter","addToCart","addToWishlist","setWishCounter","btnLoading","setBtnLoading","isInWishlist","setIsInWishlist","addPrdToCart","productId","data","console","log","status","success","message","numOfCartItems","addWishToCart","children","className","to","_id","src","imageCover","height","alt","fileName","_jsxFileName","lineNumber","columnNumber","category","name","title","split","slice","join","price","ratingsAverage","disabled","onClick","style","color","_c","$RefreshReg$"],"sources":["E:/freshCart/src/components/Product/Product.jsx"],"sourcesContent":["import React, { useContext, useState } from \"react\";\r\nimport { cartContext } from \"../Context/CartContext\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { wishContext } from \"../Context/WishContext\";\r\n\r\nexport default function Product({ item }) {\r\n  let { counter, setCounter, addToCart } = useContext(cartContext);\r\n  let { addToWishlist, setWishCounter } = useContext(wishContext);\r\n\r\n  let [btnLoading, setBtnLoading] = useState(false);\r\n  const [isInWishlist, setIsInWishlist] = useState(false);\r\n \r\n\r\n  async function addPrdToCart(productId) {\r\n    setBtnLoading(true);\r\n    let data = await addToCart(productId);\r\n    console.log(data);\r\n    if (data.status == \"success\") {\r\n      toast.success(data.message);\r\n      setCounter(data.numOfCartItems);\r\n      setBtnLoading(false);\r\n    }\r\n  }\r\n  async function addWishToCart(productId) {\r\n    let data = await addToWishlist(productId);\r\n    console.log(data);\r\n    if (data.status == \"success\") {\r\n      toast.success(data.message);\r\n      // setWishCounter(data.count);\r\n      // console.log(data.data.count);\r\n      setIsInWishlist(!isInWishlist);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n\r\n      <div className=\"col-md-3\">\r\n        <div className=\"product p-2 rounded-3 cursor-pointer\">\r\n          <Link to={\"/product-details/\" + item._id}>\r\n            <img\r\n              src={item.imageCover}\r\n              height={430}\r\n              className=\"w-100 p-2\"\r\n              alt=\"\"\r\n            />\r\n            <span className=\"text-main fw-semibold\">{item.category.name}</span>\r\n            <h4 className=\"fs-6 fw-bolder my-2\">\r\n              {item.title.split(\" \").slice(0, 2).join(\" \")}\r\n            </h4>\r\n            <div className=\"d-flex justify-content-between mt-2\">\r\n              <div className=\"text-muted\"> {item.price + \"LE\"}</div>\r\n              <div>\r\n                <i className=\"fa-solid fa-star rating-color\"></i>\r\n                {item.ratingsAverage}\r\n              </div>\r\n            </div>\r\n          </Link>\r\n          <div className=\"d-flex justify-content-around my-3 \">\r\n            <button\r\n              disabled={btnLoading}\r\n              onClick={() => addPrdToCart(item._id)}\r\n              className=\"btn text-white bg-main w-75 \"\r\n            >\r\n              {!btnLoading ? \"+ Add\" : \"loading\"}\r\n            </button>\r\n            <i\r\n              onClick={() => addWishToCart(item._id)}\r\n              className={`fa-heart ${\r\n                isInWishlist ? \"fa-solid\" : \"fa-regular\"\r\n              } fs-2`}\r\n              style={{ color: isInWishlist ? \"red\" : \"black\" }}\r\n            ></i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}