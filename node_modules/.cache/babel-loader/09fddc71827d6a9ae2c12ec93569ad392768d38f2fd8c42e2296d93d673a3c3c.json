{"ast":null,"code":"var _jsxFileName = \"E:\\\\freshCart\\\\src\\\\components\\\\ForgetPassword\\\\ForgetPassword.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ForgetPassword() {\n  _s();\n  const [resetPassword, setResetPassword] = useState(true);\n  let navigate = useNavigate();\n  let mySchema;\n  if (resetPassword) {\n    mySchema = Yup.object({\n      email: Yup.string().email(\"email isn't valid\").required('email is required')\n    });\n  } else {\n    mySchema = Yup.object({\n      resetCode: Yup.string().required('resetCode is required').matches(/^[0-9]{6}$/, 'resetCode must be 6 numbers')\n    });\n  }\n  let initialValues = resetPassword ? {\n    email: \"\"\n  } : {\n    resetCode: \"\"\n  };\n  let formik = useFormik({\n    initialValues: initialValues,\n    validationSchema: mySchema,\n    onSubmit: values => {\n      getEmail(values);\n    }\n  });\n  let endPoint = resetPassword ? \"forgotPasswords\" : \"verifyResetCode\";\n  async function getEmail(values) {\n    setResetPassword(false);\n    return axios.post(`https://ecommerce.routemisr.com/api/v1/auth/${endPoint}`, values).then(data => {\n      if (data.data.status === \"Success\") {\n        navigate('/resetPassword');\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto forget-content bg-light-subtle shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center mb-5 fw-bolder\",\n        children: \"Forgot Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: formik.handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3 row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-9\",\n            children: resetPassword ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                className: \"form-control\",\n                placeholder: \"Enter your email.......\",\n                value: formik.values.email || '',\n                name: \"email\",\n                onChange: formik.handleChange,\n                onBlur: formik.handleBlur\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 7\n              }, this), formik.touched.email && formik.errors.email ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-danger\",\n                children: formik.errors.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 54\n              }, this) : \"\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                placeholder: \"Enter reset number.......\",\n                value: formik.values.resetCode || '',\n                name: \"resetCode\",\n                onChange: formik.handleChange,\n                onBlur: formik.handleBlur\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 7\n              }, this), formik.touched.resetCode && formik.errors.resetCode ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-danger\",\n                children: formik.errors.resetCode\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 62\n              }, this) : \"\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-3\",\n            children: resetPassword ? /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn bg-main fw-bolder text-light fs-5 w-100\",\n              disabled: !(formik.isValid && formik.dirty),\n              children: \"Next\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 5\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn bg-main fw-bolder text-light fs-5 w-100\",\n              disabled: !(formik.isValid && formik.dirty),\n              children: \"confirm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 3\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(ForgetPassword, \"gwlm2Ygb9N2ms+gF2NMd+VhCRYQ=\", false, function () {\n  return [useNavigate, useFormik];\n});\n_c = ForgetPassword;\nvar _c;\n$RefreshReg$(_c, \"ForgetPassword\");","map":{"version":3,"names":["React","useFormik","Yup","axios","useNavigate","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","ForgetPassword","_s","resetPassword","setResetPassword","navigate","mySchema","object","email","string","required","resetCode","matches","initialValues","formik","validationSchema","onSubmit","values","getEmail","endPoint","post","then","data","status","catch","err","console","log","children","className","fileName","_jsxFileName","lineNumber","columnNumber","handleSubmit","type","placeholder","value","name","onChange","handleChange","onBlur","handleBlur","touched","errors","disabled","isValid","dirty","_c","$RefreshReg$"],"sources":["E:/freshCart/src/components/ForgetPassword/ForgetPassword.jsx"],"sourcesContent":["import React from 'react'\r\n\r\nimport { useFormik } from 'formik' \r\nimport * as Yup from 'yup' \r\nimport axios from 'axios' \r\nimport { useNavigate } from 'react-router-dom' \r\nimport { useState } from 'react'\r\n\r\nexport default function ForgetPassword() {\r\n    const [resetPassword, setResetPassword] = useState(true) \r\n  let navigate = useNavigate() \r\n  let mySchema; \r\n  if(resetPassword){ \r\n \r\n    mySchema = Yup.object({ \r\n      email:Yup.string().email(\"email isn't valid\").required('email is required') \r\n    }) \r\n  }else{ \r\n    mySchema = Yup.object({ \r\n    resetCode:Yup.string().required('resetCode is required').matches(/^[0-9]{6}$/, 'resetCode must be 6 numbers') \r\n  }) \r\n  } \r\n\r\n  let initialValues = resetPassword? {email:\"\"} : {resetCode:\"\"} \r\n  let formik = useFormik({ \r\n    initialValues:initialValues, \r\n    validationSchema:mySchema, \r\n    onSubmit:(values)=>{ \r\n    getEmail(values) \r\n    } \r\n     \r\n  }) \r\n  \r\n   let  endPoint =  resetPassword? \"forgotPasswords\" : \"verifyResetCode\" \r\n  \r\n  async function getEmail(values){ \r\n    setResetPassword(false) \r\n   return axios.post(`https://ecommerce.routemisr.com/api/v1/auth/${endPoint}`, values).then((data)=>{ \r\n    if(data.data.status === \"Success\"){ \r\n      navigate('/resetPassword') \r\n    } \r\n   }).catch((err)=>{ \r\n console.log(err)\r\n   }) \r\n  }\r\n  return (\r\n    <>\r\n      <div className=\"container mx-auto forget-content bg-light-subtle shadow\"> \r\n      <h1 className='text-center mb-5 fw-bolder'>Forgot Password</h1> \r\n    <form onSubmit={formik.handleSubmit}> \r\n      {/* {newPassword? '' :   */} \r\n      \r\n  <div className=\"mb-3 row\"> \r\n    <div className=\"col-md-9\"> \r\n      {resetPassword?  \r\n      <> \r\n      <input type=\"email\" className=\"form-control\"  placeholder=\"Enter your email.......\"  value={formik.values.email || ''} name=\"email\" onChange={formik.handleChange} onBlur={formik.handleBlur}/> \r\n      {formik.touched.email && formik.errors.email ? <p className='text-danger'>{formik.errors.email}</p>: \"\"} \r\n      </> \r\n      :  \r\n      <> \r\n      <input type=\"text\" className=\"form-control\" placeholder=\"Enter reset number.......\" value= {formik.values.resetCode || ''} name=\"resetCode\" onChange={formik.handleChange} onBlur={formik.handleBlur}/> \r\n      {formik.touched.resetCode && formik.errors.resetCode ? <p className='text-danger'>{formik.errors.resetCode}</p>: \"\"} \r\n      </> \r\n    } \r\n    </div> \r\n    <div className=\"col-md-3\"> \r\n    {resetPassword?  \r\n    <button type=\"submit\" className=\"btn bg-main fw-bolder text-light fs-5 w-100\" disabled={!(formik.isValid && formik.dirty)}>Next</button> \r\n    : \r\n    <button type=\"submit\" className=\"btn bg-main fw-bolder text-light fs-5 w-100\" disabled={!(formik.isValid && formik.dirty)}>confirm</button> \r\n \r\n} \r\n    </div> \r\n  </div> \r\n\r\n</form> \r\n    </div> \r\n    </> \r\n  )\r\n \r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}