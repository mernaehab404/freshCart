{"ast":null,"code":"var _jsxFileName = \"E:\\\\freshCart\\\\src\\\\components\\\\ForgetPassword\\\\ForgetPassword.jsx\",\n  _s = $RefreshSig$();\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ForgetPassword({\n  show,\n  onClose\n}) {\n  _s();\n  const [resetPassword, setResetPassword] = useState(true);\n  let navigate = useNavigate();\n  let mySchema;\n  if (resetPassword) {\n    mySchema = Yup.object({\n      email: Yup.string().email(\"email isn't valid\").required(\"email is required\")\n    });\n  } else {\n    mySchema = Yup.object({\n      resetCode: Yup.string().required(\"resetCode is required\").matches(/^[0-9]{6}$/, \"resetCode must be 6 numbers\")\n    });\n  }\n  let initialValues = resetPassword ? {\n    email: \"\"\n  } : {\n    resetCode: \"\"\n  };\n  let formik = useFormik({\n    initialValues: initialValues,\n    validationSchema: mySchema,\n    onSubmit: values => {\n      getEmail(values);\n    }\n  });\n  let endPoint = resetPassword ? \"forgotPasswords\" : \"verifyResetCode\";\n  async function getEmail(values) {\n    setResetPassword(false);\n    return axios.post(`https://ecommerce.routemisr.com/api/v1/auth/${endPoint}`, values).then(data => {\n      if (data.data.status === \"Success\") {\n        navigate(\"/resetPassword\");\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n  if (!show) return null;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto forget-content bg-light-subtle shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center mb-5 fw-bolder\",\n        children: \"Forgot Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: formik.handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3 row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-9\",\n            children: resetPassword ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                className: \"form-control\",\n                placeholder: \"Enter your email.......\",\n                value: formik.values.email || \"\",\n                name: \"email\",\n                onChange: formik.handleChange,\n                onBlur: formik.handleBlur\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 19\n              }, this), formik.touched.email && formik.errors.email ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-danger\",\n                children: formik.errors.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 21\n              }, this) : \"\"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"form-control\",\n                placeholder: \"Enter reset number.......\",\n                value: formik.values.resetCode || \"\",\n                name: \"resetCode\",\n                onChange: formik.handleChange,\n                onBlur: formik.handleBlur\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 19\n              }, this), formik.touched.resetCode && formik.errors.resetCode ? /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-danger\",\n                children: formik.errors.resetCode\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 21\n              }, this) : \"\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-3\",\n            children: resetPassword ? /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn bg-main fw-bolder text-light fs-5 w-100\",\n              disabled: !(formik.isValid && formik.dirty),\n              children: \"Next\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn bg-main fw-bolder text-light fs-5 w-100\",\n              disabled: !(formik.isValid && formik.dirty),\n              children: \"confirm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(ForgetPassword, \"gwlm2Ygb9N2ms+gF2NMd+VhCRYQ=\", false, function () {\n  return [useNavigate, useFormik];\n});\n_c = ForgetPassword;\nvar _c;\n$RefreshReg$(_c, \"ForgetPassword\");","map":{"version":3,"names":["useFormik","Yup","axios","useNavigate","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","ForgetPassword","show","onClose","_s","resetPassword","setResetPassword","navigate","mySchema","object","email","string","required","resetCode","matches","initialValues","formik","validationSchema","onSubmit","values","getEmail","endPoint","post","then","data","status","catch","err","console","log","children","className","fileName","_jsxFileName","lineNumber","columnNumber","handleSubmit","type","placeholder","value","name","onChange","handleChange","onBlur","handleBlur","touched","errors","disabled","isValid","dirty","_c","$RefreshReg$"],"sources":["E:/freshCart/src/components/ForgetPassword/ForgetPassword.jsx"],"sourcesContent":["import { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function ForgetPassword({ show, onClose }) {\r\n  const [resetPassword, setResetPassword] = useState(true);\r\n  let navigate = useNavigate();\r\n  let mySchema;\r\n  if (resetPassword) {\r\n    mySchema = Yup.object({\r\n      email: Yup.string()\r\n        .email(\"email isn't valid\")\r\n        .required(\"email is required\"),\r\n    });\r\n  } else {\r\n    mySchema = Yup.object({\r\n      resetCode: Yup.string()\r\n        .required(\"resetCode is required\")\r\n        .matches(/^[0-9]{6}$/, \"resetCode must be 6 numbers\"),\r\n    });\r\n  }\r\n\r\n  let initialValues = resetPassword ? { email: \"\" } : { resetCode: \"\" };\r\n  let formik = useFormik({\r\n    initialValues: initialValues,\r\n    validationSchema: mySchema,\r\n    onSubmit: (values) => {\r\n      getEmail(values);\r\n    },\r\n  });\r\n\r\n  let endPoint = resetPassword ? \"forgotPasswords\" : \"verifyResetCode\";\r\n\r\n  async function getEmail(values) {\r\n    setResetPassword(false);\r\n    return axios\r\n      .post(`https://ecommerce.routemisr.com/api/v1/auth/${endPoint}`, values)\r\n      .then((data) => {\r\n        if (data.data.status === \"Success\") {\r\n          navigate(\"/resetPassword\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n    if (!show) return null; \r\n  return (\r\n    <>\r\n      <div className=\"container mx-auto forget-content bg-light-subtle shadow\">\r\n        <h1 className=\"text-center mb-5 fw-bolder\">Forgot Password</h1>\r\n        <form onSubmit={formik.handleSubmit}>\r\n          {/* {newPassword? '' :   */}\r\n\r\n          <div className=\"mb-3 row\">\r\n            <div className=\"col-md-9\">\r\n              {resetPassword ? (\r\n                <>\r\n                  <input\r\n                    type=\"email\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Enter your email.......\"\r\n                    value={formik.values.email || \"\"}\r\n                    name=\"email\"\r\n                    onChange={formik.handleChange}\r\n                    onBlur={formik.handleBlur}\r\n                  />\r\n                  {formik.touched.email && formik.errors.email ? (\r\n                    <p className=\"text-danger\">{formik.errors.email}</p>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Enter reset number.......\"\r\n                    value={formik.values.resetCode || \"\"}\r\n                    name=\"resetCode\"\r\n                    onChange={formik.handleChange}\r\n                    onBlur={formik.handleBlur}\r\n                  />\r\n                  {formik.touched.resetCode && formik.errors.resetCode ? (\r\n                    <p className=\"text-danger\">{formik.errors.resetCode}</p>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                </>\r\n              )}\r\n            </div>\r\n            <div className=\"col-md-3\">\r\n              {resetPassword ? (\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn bg-main fw-bolder text-light fs-5 w-100\"\r\n                  disabled={!(formik.isValid && formik.dirty)}\r\n                >\r\n                  Next\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn bg-main fw-bolder text-light fs-5 w-100\"\r\n                  disabled={!(formik.isValid && formik.dirty)}\r\n                >\r\n                  confirm\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}